# P1022 [NOIP 2000 普及组] 计算器的改良

## 题目背景

NCL 是一家专门从事计算器改良与升级的实验室，最近该实验室收到了某公司所委托的一个任务：需要在该公司某型号的计算器上加上解一元一次方程的功能。实验室将这个任务交给了一个刚进入的新手 ZL 先生。

## 题目描述

为了很好的完成这个任务，ZL 先生首先研究了一些一元一次方程的实例：

- $4+3x=8$。
- $6a-5+1=2-2a$。
- $-5+12y=0$。

ZL 先生被主管告之，在计算器上键入的一个一元一次方程中，只包含整数、小写字母及 `+`、`-`、`=` 这三个数学符号（当然，符号“`-`”既可作减号，也可作负号）。方程中并没有括号，也没有除号，方程中的字母表示未知数。

你可假设对键入的方程的正确性的判断是由另一个程序员在做，或者说可认为键入的一元一次方程均为合法的，且有唯一实数解。

## 输入格式

一个一元一次方程。

## 输出格式

解方程的结果（精确至小数点后三位）。

## 输入输出样例 #1

### 输入 #1

```
6a-5+1=2-2a
```

### 输出 #1

```
a=0.750
```

# Solution
---
## 一元一次方程求解题解

本程序用于求解形如 `ax + b = cx + d` 的一元一次方程，支持正负号、常数项与未知数项混合的表达式。



### 思路简述

1. **识别未知数与等号位置**  
   遍历输入字符串，找到等号 `'='` 的位置，并确定未知数变量名（如 `x`）。

2. **移项统一处理方向**  
   为统一处理，将等号右边的所有项“搬到”左边，改变其符号，化为标准形式 `Ax + B = 0`。

3. **逐项解析表达式**  
   使用指针遍历每一项，识别出是否是数字、未知数或二者结合（如 `3x`），累计未知数的系数和常数项的和。

4. **计算解的结果**  
   利用公式 `x = -B / A` 计算答案，并保留三位小数输出。

---

### 关键点总结

- 处理表达式时要特别注意第一项是否带符号；
- 每项中数字和变量可能组合出现（如 `12x`），也可能是单独的变量（如 `x`）或常数（如 `5`）；
- 字符串右边部分移项后符号要取反；
- 支持任意小写字母作为变量名；
- 最终解保留三位小数输出，格式为 `x=val`；
